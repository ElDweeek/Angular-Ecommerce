<div class="card container w-75 mt-5 px-0">
  <div class="row">
    <div class="col-lg-8 cart">
      <div class="mb-3 d-flex justify-content-between">
        <div><h4 class="fw-bold">Shopping Cart</h4></div>
        <div class="text-muted">{{ numOfCartItems }} items</div>
      </div>

      @for (cartProdcut of cartProducts; track $index) {
      <div class="row border-top border-bottom text-center">
        <div class="main d-flex align-items-center">
          <div class="col-2">
            <img class="w-100" [src]="cartProdcut.product.imageCover" />
          </div>

          <div class="col-3">
            <p class="text-muted">{{ cartProdcut.product.category.name }}</p>
            <p>{{ cartProdcut.product.title }}</p>
          </div>
          <div class="col-3">
            <button class="border-0 rounded-2 bg-main text-white w-25 mx-1">
              -
            </button>
            <button class="border-0 rounded-2 w-25 mx-1">
              {{ cartProdcut.count }}
            </button>
            <button class="border-0 rounded-2 bg-main text-white w-25 mx-1">
              +
            </button>
          </div>

          <div class="col-2">{{ cartProdcut.price }} EGP</div>

          <div class="col-2">
              <p-button (onClick)="confirmPosition('top',cartProdcut.product._id)" label="Delete" severity="danger" [outlined]="true" />
          </div>
        </div>
      </div>
      }


      <p-confirmDialog
      key="positionDialog"
      [position]="position"
      rejectButtonStyleClass="p-button-outlined" />
     <p-confirmDialog />
    </div>

    <div class="col-lg-4 summary">
      <div><h4 class="fw-bold">Summary</h4></div>

      <div
        class="row"
        style="border-top: 1px solid rgba(0, 0, 0, 0.1); padding: 2vh 0"
      >
        <div class="col">TOTAL PRICE</div>
        <div class="col text-right">{{ totalPrice }}</div>
      </div>
      <button class="btn">CHECKOUT</button>
    </div>
  </div>
</div>
